!git clone https://github.com/21-projects-for-deep-learning/srez.git

import os 
os.chdir("srez")

!curl -O http://vis-www.cs.umass.edu/lfw/lfw.tgz

!tar -xvf lfw.tgz

!ls

!ffmpeg -version

import numpy
print(numpy.__version__)

import matplotlib
print(matplotlib.__version__)

import tensorflow
print(tensorflow.__version__)

import scipy
print(scipy.__version__)

import moviepy
print(moviepy.__version__)

from glob import glob
all_filenames = glob("dataset/*/*")
# 查看前10个文件名
all_filenames[:10]

import matplotlib.pyplot as plt
from matplotlib import image 
import random

def plot_random_25_img(filepaths):
    random_25_imgs = random.sample(filepaths, 25)
    fig, axes = plt.subplots(nrows=5, ncols=5)
    fig.set_size_inches(8, 8)
    index = 0
    for row_index in range(5): 
        for col_index in range(5): 
            img = image.imread(random_25_imgs[index])
            ax = axes[row_index, col_index]
            ax.imshow(img)
            ax.grid(False)
            index += 1
plot_random_25_img(all_filenames)

!python3 srez_main.py \
--run "train" \
--batch_size 16 \
--checkpoint_dir "checkpoint" \
--checkpoint_period 100 \
--dataset "dataset" \
--epsilon 1e-8 \
--gene_l1_factor 0.90 \
--learning_beta1 0.5 \
--learning_rate_start 0.00020 \
--learning_rate_half_life 5000 \
--sample_size 168 \
--summary_period 10 \
--random_seed 0 \
--test_vectors 16 \
--train_dir "train" \
--train_time 20

!python3 srez_main.py --run demo

!ls train

import matplotlib.pyplot as plt
from matplotlib import image 

def plot_img(filepath):
    fig, ax = plt.subplots()
    fig.set_size_inches(8, 8) 
    img = image.imread(filepath)
    ax.imshow(img)
    ax.grid(False)
    
plot_img("train/No_10.000000_trained_out.png")

plot_img("train/No_1090.000000_trained_out.png")

import io
import base64
from IPython.display import HTML

video = io.open('train/generated_video.mp4', 'r+b').read()
encoded = base64.b64encode(video)
HTML(data='''<video alt="test" controls>
                <source src="data:video/mp4;base64,{0}" width="300px" height="500px" type="video/mp4" />
             </video>'''.format(encoded.decode('ascii')))









import os
os.chdir("../")

!ls

!git clone https://github.com/21-projects-for-deep-learning/Image-Super-Resolution.git

import os
os.chdir("Image-Super-Resolution")

import matplotlib.pyplot as plt
from matplotlib import image 

def plot_img(filepath):
    fig, ax = plt.subplots()
    fig.set_size_inches(10, 10) 
    img = image.imread(filepath)
    ax.imshow(img)
    ax.grid(False)
    
plot_img("blur_img_test0.jpg")

!python main.py "blur_img_test0.jpg"

!ls

plot_img("blur_img_test0_intermediate_.jpg")

plot_img("blur_img_test1.jpg")

!python main.py "blur_img_test1.jpg"

plot_img("blur_img_test1_intermediate_.jpg")




